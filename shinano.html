<!doctype html>
<!--
  Material Design Lite
  Copyright 2015 Google Inc. All rights reserved.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      https://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License
-->

<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Introducing AndroPlus Kernel, a custom kernel for Xperia.">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>AndroPlus Kernel for shinano Z2, Z3, Z3 Compact</title>

    <!-- Page styles -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=ja" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://storage.googleapis.com/code.getmdl.io/1.0.0/material.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

    <script>
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	ga('create', 'UA-49043288-3', 'auto');
	ga('require', 'linkid');
	ga('require', 'displayfeatures');
	ga('send', 'pageview');

    </script>
  </head>
  <body>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">

      <div class="android-header mdl-layout__header mdl-layout__header--waterfall">
        <div class="mdl-layout__header-row">
          <a class="android-title mdl-layout-title" href="https://kernel.andro.plus/">
            <img class="android-logo-image" src="images/android-logo.png">
          </a>
          <!-- Add spacer, to align navigation to the right in desktop -->
          <div class="android-header-spacer mdl-layout-spacer"></div>

          <!-- Navigation -->
          <div class="android-navigation-container">
            <nav class="android-navigation mdl-navigation">
              <a class="mdl-navigation__link mdl-typography--text-uppercase" href="shinano.html">Xperia Z2 / Z3 / Z3 Compact</a>
              <a class="mdl-navigation__link mdl-typography--text-uppercase" href="kitakami.html">Xperia Z4 Tablet</a>
              <a class="mdl-navigation__link mdl-typography--text-uppercase" href="kitakami_r2.html">Xperia Z5 / Z5 Compact</a>
            </nav>
          </div>

          <span class="android-mobile-title mdl-layout-title">
            <img class="android-logo-image" src="images/android-logo.png">
          </span>
        </div>
      </div>

      <div class="android-drawer mdl-layout__drawer">
        <span class="mdl-layout-title">
          <img class="android-logo-image" src="images/android-logo-white.png">
        </span>
        <nav class="mdl-navigation">
          <span class="mdl-navigation__link" href="shinano.html">Xperia Z2 / Z3 / Z3 Compact</span>
          <a class="mdl-navigation__link" href="shinano.html#download">Download</a>
          <a class="mdl-navigation__link" href="shinano.html#changelog">Changelog</a>
          <div class="android-drawer-separator"></div>
          <span class="mdl-navigation__link" href="kitakami.html">Xperia Z4 Tablet</span>
          <a class="mdl-navigation__link" href="kitakami.html#download">Download</a>
          <a class="mdl-navigation__link" href="kitakami.html#changelog">Changelog</a>
          <div class="android-drawer-separator"></div>
          <span class="mdl-navigation__link" href="kitakami_r2.html">Xperia Z5 / Z5 Compact</span>
          <a class="mdl-navigation__link" href="kitakami_r2.html#download">Download</a>
          <a class="mdl-navigation__link" href="kitakami_r2.html#changelog">Changelog</a>
        </nav>
      </div>

      <div class="android-content mdl-layout__content">
        <a name="top"></a>
        <div class="android-be-together-section mdl-typography--text-center">
          <div class="android-font android-slogan">AndroPlus Kernel<br />for Xperia Z2 / Z3 / Z3 Compact</div>
        </div>
        
        <div class="android-requirements-section mdl-typography--text-center">
         <div class="mdl-typography--display-1-color-contrast">Requirements</div>
         <ul class="requirements">
	         <li>Xperia Z2 [D6502 / D6503 / D6543]</li>
	         <br />
		<li>stock 5.1.1</li>
		<li>23.4.A.1.200 and 23.4.A.1.232 - v70 ~</li>
		<li>23.4.A.0.546 - v60 ~ v67</li>
		<li>stock 5.0.2</li>
		<li>23.1.A.0.690 / 23.1.A.0.726 and 23.1.A.1.28 / 23.2.A.1.62 - v50 ~ v59</li>
		<li>stock 4.4.4</li>
		<li>23.0.1.A.3.12 - v10 ~ v32</li>
		<br />
		<li>Unlocked bootloader</li>
	</ul>
	<hr />
	<ul class="requirements">
		<li>Xperia Z3 [D6603 / D6653 / D6643] or Xperia Z3 Compact [D5803 / D5833]</li>
		<br />
		<li>stock 5.1.1</li>
		<li>23.4.A.1.200 and 23.4.A.1.232 - v70 ~</li>
		<li>23.4.A.0.546 - v60 ~ v67</li>
		<li>stock 5.0.2</li>
		<li>23.1.A.0.690 / 23.1.A.0.726 and 23.1.A.1.28 / 23.2.A.1.62 - v50 ~ v59</li>
		<li>stock 4.4.4</li>
		<li>23.0.1.A.5.77 - v10 ~ v32</li>
		<li>23.0.A.2.105 or .98, .93 - v1 ~ v9</li>
		<br />
		<li>Unlocked bootloader</li>
	</ul>
        </div>
        
        <div class="android-screen-section mdl-typography--text-center">
          <a name="screens"></a>
          <div id="download" class="mdl-typography--display-1-color-contrast">Download</div>
          <div class="android-screens">
            <div class="android-phone-dl3 android-screen">
              <a class="android-image-link" href="https://dl.androplus.org/Xperia%20Z2%20D6502_D6503_D6543/">
                <img class="android-screen-image" src="images/sirius.png">
              </a>
              <a class="android-link mdl-typography--font-regular mdl-typography--text-uppercase" href="https://dl.androplus.org/Xperia%20Z2%20D6502_D6503_D6543/">Xperia Z2</a>
              <a class="android-link mdl-typography--font-regular mdl-typography--text-uppercase" href="https://dl.cubeserver.eu/AndroPlus/Xperia%20Z2%20D6502_D6503_D6543/">(mirror)</a>
            </div>
            
            <div class="android-phone-dl3 android-screen">
              <a class="android-image-link" href="https://dl.androplus.org/Xperia%20Z3%20D6603_D6653_D6643/">
                <img class="android-screen-image" src="images/leo.png">
              </a>
              <a class="android-link mdl-typography--font-regular mdl-typography--text-uppercase" href="https://dl.androplus.org/Xperia%20Z3%20D6603_D6653_D6643/">Xperia Z3</a>
              <a class="android-link mdl-typography--font-regular mdl-typography--text-uppercase" href="https://dl.cubeserver.eu/AndroPlus/Xperia%20Z3%20D6603_D6653_D6643/">(mirror)</a>
            </div>
            
            <div class="android-phone2-dl3 android-screen">
              <a class="android-image-link" href="https://dl.androplus.org/Xperia%20Z3%20Compact%20D5803_D5833/">
                <img class="android-screen-image" src="images/aries.png">
              </a>
              <a class="android-link mdl-typography--font-regular mdl-typography--text-uppercase" href="https://dl.androplus.org/Xperia%20Z3%20Compact%20D5803_D5833/">Xperia Z3 Compact</a>
              <a class="android-link mdl-typography--font-regular mdl-typography--text-uppercase" href="https://dl.cubeserver.eu/AndroPlus/Xperia%20Z3%20Compact%20D5803_D5833/">(mirror)</a>
            </div>
<br />--------------------------------------<br>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- レスポンシブ記事下 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0606165858439985"
     data-ad-slot="8365603791"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
          </div>
        </div>
        
        <div class="android-changelog-section mdl-typography--text-center">
         	<div class="mdl-typography--display-1-color-contrast">Notice and FAQ</div>
         	<div class="android-changelog">
         	<p>
         	Some people reported my kernel isn't compatible with XZDualRecovery.<br />
		Please remove XZDR before installing my kernel.<br />
		(Remove tool can be found at <a href="http://nut.xperia-files.com/">http://nut.xperia-files.com/</a>.<br />
		Don't ask how to download it in my threads.)
		</p>
		<p>
		2. DO NOT complain about unstableness when you are overclocking your phone.<br />
		Reboot while benchmarking is expected since overclocking can hurt your device.
		</p>
		<p>
		3. Sound Control (FauxSound) and Taiko_control is EXPERIMENTAL!<br />
		Speaker gain control won't work, please DO NOT report it as a bug.
		</p>
		<p>
		FauxClock has some bugs.
		I recommend to use <a href="https://play.google.com/store/apps/details?id=com.grarak.kerneladiutor">Kernel Adiutor</a> to configure this kernel.
		</p>
		--------------------------------------
		<p>
		FAQ<br />
		Q. Can you support UKSM?<br />
		A. No, I tried but didn't boot with it.<br />
		<br />
		Q. Can you use GCC 5.1?<br />
		A. No, it didn't boot with GCC 5.1.<br />
		<br />
		Q. F2FS isn't working!<br />
		A. I couldn't find how to auto-generate fstab for both EXT4 and F2FS on 5.1.<br />
		F2FS is not supported for now.<br />
		<br />
		Q. CPU freq is staying at 1190 Mhz or something!<br />
		A. It is caused by MPDecision for better performance.<br />
		If you really think it's problem, just disable touch boost or change thermal decision to intelli_thermal.<br />
		<br />
		To disable MPDecision and log spam "QCOM PowerHAL: Failed to acquire lock",<br />
		you have to enter these commands in adb shell:<br />
		busybox mount -o remount,rw /system<br />
		mv /system/vendor/lib/hw/power.qcom.so /system/vendor/lib/hw/power.qcom.so.bak<br />
		mv /system/bin/mpdecision /system/bin/mpdecision.bak<br />
		</p>
        	</div>
        </div>
        <div class="android-changelog-section mdl-typography--text-center">
         	<div id="changelog" class="mdl-typography--display-1-color-contrast">Changelog</div>
         	<div class="android-changelog">
         	Stable/supporting version : v70<br>
Testing/experimental version : ---<br>
--------------------------------------<br>
v70<br>
Support 23.4.A.1.200 and 23.4.A.1.232 (maybe some changes in 232 is missing)<br>
Mute clearpad logspam<br>
Fixed init.d<br>
--------------------------------------<br>
End of 23.4.A.0.546 support<br>
<div class="bbcode-hide" style="margin:10px; margin-top:5px">
Show older changelog <label class="mdl-switch mdl-js-switch mdl-js-ripple-effect" for="switch-0">
	<input type="checkbox" id="switch-0" class="mdl-switch__input" />
	<span class="mdl-switch__label"></span>
</label>
    <div style="display: none;">
v67<br>
Reverted display patch for Z3C<br>
Added some optimizations for GPU, TCP, PM<br>
<br>
v66<br>
Removed adaptive CPU gov since it's too old<br>
Re-updated bfq I/O gov to v7r8<br>
Reduced log spam<br>
* To disable log spam "QCOM PowerHAL: Failed to acquire lock",<br>
you have to enter these commands in adb shell:<br>
<div style="margin:20px; margin-top:5px">
	<div class="smallfont" style="margin-bottom:2px">Code: </div>
        
	<pre class="alt2 " dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px inset;
		width: 640px;
		height: 66px;
		text-align: left;
		overflow: auto">busybox mount -o remount,rw /system
mv /system/vendor/lib/hw/power.qcom.so /system/vendor/lib/hw/power.qcom.so.bak
mv /system/bin/mpdecision /system/bin/mpdecision.bak</pre>
</div>v65<br>
Removed QC2.0 hack<br>
<br>
v63b~d, v64a (don't use them as they contains "bad" patch)<br>
Attempt to fix video playback problem<br>
Patched random reboot caused by dynamic fsync panic<br>
Disabled dynamic fsync by default<br>
<br>
v63a<br>
Changed Sound Control to franciscofranco's one<br>
--I think it's more stable than faux one, though speaker gain isn't working as well... which do you like?<br>
Updated kcal and added some patches<br>
Changed default dirty_writeback_active_centisecs to 3000<br>
Changed intelli_thermal poll default value<br>
<br>
v63<br>
Added interactive_proconservative<br>
Added mac80211 injection patch and HID patch for keyboard support<br>
Reverted one patch<br>
<br>
v62<br>
Removed some patches including powersuspend 1.6 since there's problem report on Z2<br>
Updated zzmove to 1.0-beta8<br>
Changed wakelock blocker sysfs name to one in Kernel Adiutor<br>
<br>
v61<br>
Enabled QC2.0 hack on Z2 again (I need exact log of charging to see if it really works...)<br>
Alucard hotplug was mistakenly enabled by default, so turned it off by default now<br>
Added patch for slimbus<br>
Added toggles for wlan wakelocks (for advanced user only, path for sysfs is <a href="https://github.com/Grarak/KernelAdiutor/issues/168" target="_blank" rel="nofollow">here</a>  Y=non block, N=block)<br>
<br>
v60a<br>
Fixed apps moved to SD disappear after reboot<br>
Dropped F2FS support because it causes above problem...<br>
<br>
v60<br>
Now supports 5.1.1!<br>
Most features from 5.0.2 version, but now I selected Fauxsound again since Taiko_control isn't so different from fauxsound.<br>
also removed some commit to improve stability<br>
Updated powersuspend to v1.6<br>
<br>
</div>
</div>
--------------------------------------<br>
5.0.2 version<br>
<div class="bbcode-hide" style="margin:10px; margin-top:5px">
Show older changelog <label class="mdl-switch mdl-js-switch mdl-js-ripple-effect" for="switch-1">
	<input type="checkbox" id="switch-1" class="mdl-switch__input" />
	<span class="mdl-switch__label"></span>
</label>
    <div style="display: none;">
        v59c<br>
Finally, we got 23.2.A.1.62 source!... so I added new commits from it<br>
Reverted most of commits of v59 since some of them (don't know exact commit) causes problem<br>
--Update of alcurd, nightmare, darkness isn't reverted, so if there's problem yet, it is the cause.<br>
<br>
* I'll update and create kernel for 5.1 as soon as Sony uploads source for it.<br>
<br>
v59b<br>
Disabled Quick Charge 2.0 for Z2<br>
<br>
v59a<br>
Rebuilt with Z2 ramdisk... maybe fixes touch problem<br>
<br>
v59<br>
Enabled Quick Charge 2.0 again for Z2... I think it won't work, but for testing<br>
Updated TWRP to 2.8.7.0<br>
Fixed bug of fast_hotplug<br>
Updated alcurd, nightmare, darkness<br>
Added zzmove CPU governor<br>
Profiles list<br>
<div class="bbcode-hide" style="margin:20px; margin-top:5px">
    <input value="Click To Show Content" style="font-size:12px; padding:5px; display:block; margin:0; width:175px; cursor:pointer; text-align:center; text-transform:uppercase;" onclick="if (this.parentNode.getElementsByTagName('div')[0].style.display != '') { this.parentNode.getElementsByTagName('div')[0].style.display = ''; this.value='Click To Hide Content'; } else { this.parentNode.getElementsByTagName('div')[0].style.display = 'none'; this.value='Click To Show Content'; }" type="button">
    <div style="display: none;">
         * -  (1)'def'    -&gt; Default              -&gt;<br>
will set governor defaults<br>
<br>
 * -  (2)'ybat    -&gt; Yank Battery         -&gt;<br>
a very good battery/performance balanced setting<br>
DEV-NOTE: highly recommended!<br>
<br>
 * -  (3)'ybatext'-&gt; Yank Battery Extreme -&gt;<br>
like yank battery but focus on battery saving<br>
<br>
 * -  (4)'zzbat'  -&gt; ZaneZam Battery      -&gt;<br>
a more 'harsh' setting strictly focused on battery saving<br>
DEV-NOTE: might give some lags!<br>
<br>
 * -  (5)'zzbatp' -&gt; ZaneZam Battery Plus -&gt;<br>
NEW! reworked 'faster' battery setting<br>
DEV-NOTE: recommended too!<img src="images/smilies/smile.gif" alt="" title="Smile" class="inlineimg" border="0"><br>
<br>
 * -  (6)'zzopt'  -&gt; ZaneZam Optimized    -&gt;<br>
balanced setting with no focus in any direction<br>
DEV-NOTE: relict from back in the days, even though some people still like it!<br>
<br>
 * -  (7)'zzmod'  -&gt; ZaneZam Moderate     -&gt;<br>
NEW! setting based on 'zzopt' which has mainly (but not strictly only!) 2 cores online<br>
<br>
 * -  (8)'zzperf' -&gt; ZaneZam Performance  -&gt;<br>
all you can get from zzmoove in terms of performance but still has the fast  down scaling/hotplugging behaving<br>
<br>
 * -  (9)'zzinz'  -&gt; ZaneZam InZane       -&gt;<br>
NEW! based on performance with new insane scaling active. a new experience!<br>
<br>
 * - (10)'zzgame' -&gt; ZaneZam Gaming       -&gt;<br>
NEW! based on performance with scaling block enabled to avoid cpu overheating during gameplay<br>
<br>
 * - (11)'zzrelax'-&gt; ZaneZam Relax        -&gt;<br>
NEW! based on moderate (except hotplug settings) with relaxed sleep settings
    </div>
</div><br>
To change profile, open Kernel Adiutor and CPU -&gt; CPU Governor Tunables -&gt; find "profile_number" and change it.<br>
e.g. If you want to set zzbatp, change "profile_number"'s value to 5<br>
<br>
v58a<br>
Disabled Quick Charge 2.0 for Z2 since there was report it's not working<br>
v58<br>
Enabled Quick Charge 2.0... don't know if it really works since I don't have capable charger<br>
Changed way to set SELinux mode (please test ***_Enforcing.zip, I don't have much time to test)<br>
Added optimization for Zen, Sio Plus and power_efficient workqueue, GPU<br>
Added <a href="http://forum.xda-developers.com/android/software-hacking/adreno-idler-idling-algorithm-devfreq-t3134872" target="_blank">Adreno idler</a> (addon for adreno-tz)<br>
To disable, run<br>
echo 0 &gt; /sys/module/adreno_idler/parameters/adreno_idler_active<br>
<br>
v57b<br>
<strike>*If you want to set SELinux Enforcing on boot, download ***_Enforcing.zip</strike><br>
<font color="red">DON'T Install it, it doesn't boot for now</font><br>
<br>
Changed intelliplug to old faux version<br>
Re-added optimizations since it was not cause of bugs<br>
Disabled CPU quiet<br>
<br>
v57a<br>
Removed some optimizations (attempt to fix sdcard bug for some users)<br>
Added some optimizations ans CPU quiet from unified kernel<br>
-- <a href="https://github.com/AndroPlus-org/android_kernel_sony_msm8974ac/blob/lollipop/drivers/cpuquiet/Kconfig" target="_blank" rel="nofollow">CPU quiet</a> will save battery without hurting performance<br>
Changed CPU freq voltage to Myself5's one<br>
Reduced logging spam (qmi_qmux)<br>
<br>
v57<br>
Built with UBER toolchains<br>
Updated Zen IO scheduler and set as default<br>
Kernel version name is now shorter (3.4.0-v57)<br>
Updated kexec hardboot values for Z3 Compact<br>
Updated alucard, darkness and nightmare cpu govs<br>
Updated KCAL<br>
<br>
v56<br>
Reverted "Enabled intelli_plug and intelli_thermal by default", now mpdecision is back without special operation<br>
Updated Ondemandplus<br>
Changed max freq limit for alcurd, it will use max freq you set<br>
Added some optimization from CM/unified kernel<br>
<br>
v55<br>
BIG update!... but no official support for .28 or newer since there's no kernel source.<br>
I only tested with Z3, so need testing on Z2 and Z3C.<br>
v54 is gone while testing.<br>
<br>
Updated TWRP to 2.8.6.0<br>
-Rebuild with intelli_plug and intelli_thermal support<br>
---sudden reboot while backuping won't occur with them<br>
-Added support for backup and restore baseband, FOTAKernel, TA, LTALabel (Certificates info)<br>
---TA restore is not tested!! If you are rich enough, please test it. I think it's same implementation as monx®'s one...<br>
<br>
SELinux is now permissive! (<a href="http://forum.xda-developers.com/z3/development/kernel-andropluskernel-t2925999/post60568900#post60568900" target="_blank">thanks shield94 for this</a>)<br>
F2FS support is back (need test)<br>
Changed busybox to [NUT]'s XZDR one<br>
Supports init.d in kernel<br>
Enabled intelli_plug and intelli_thermal by default<br>
Disabled MP decision (if you want to enable, please rename "/system/bin/mpdecision_disabled" to  "/system/bin/mpdecision" and reboot)<br>
<br>
Added slim governor (better performance)<br>
Removed Lionheart, Wheatley and Lagfree (too old)<br>
Updated intelli_plug<br>
Updated alcurd hotplug<br>
Updated alucard, darkness and nightmare cpu governors<br>
Tuned smartassv2<br>
GPU: set min pwr level as default<br>
Added some optimizations<br>
<br>
v53a<br>
Updated prop in ramdisk to 23.1.A.0.726 (sorry)<br>
Updated KCAL<br>
Removed 2.8Ghz because of it's not stable enough<br>
<br>
v53<br>
Supports 23.1.A.0.726<br>
Removed workaround for Xposed, please install Xposed Alpha 4 (xposed-sdk21-arm-20150430.zip) to fix issue<br>
Reverted "Enable alucard hotplug by default"<br>
Added some optimization from unified kernel<br>
<br>
v52<br>
Temporary solution for Xposed's bootloop when pacakge number is over 330 by increasing INR_OPEN_CUR to 4096 (maybe it bootloops if you have 1200+ apps, but no one will do that<img src="images/smilies/smile.gif" alt="" title="Smile" class="inlineimg" border="0">)<br>
Enable alucard hotplug by default<br>
Removed  bricked hotplug since this causes some problem on some users (as always, I don't have problem...)<br>
Set max CPU freq to 2.8GHz for Z3 due to instability<br>
<br>
v51<br>
Added bricked hotplug (msm_mpdecision)<br>
Changed some default values (alcurd hotplug params, intelli thermal enabled, set default I/O scheduler to fiops...)<br>
Updated alcurd CPU gov<br>
Set higher bus level for GPU 100Mhz<br>
<br>
v50a<br>
Added Taiko_control by cocafe (alternative to Faux's sound control)<br>
<a href="http://forum.xda-developers.com/showpost.php?p=55765178&amp;postcount=3" target="_blank">See this post</a> for commands to enable and configure<br>
<br>
v50<br>
Lollipop kernel!<br>
All features in KitKat but not Sound Control and most of optimizations for better stability.<br>
I couldn't make SELinux to Permissive and F2FS support with previous method, so I'm looking for another method...
    </div>
</div><br>
--------------------------------------<br>
<div class="bbcode-hide" style="margin:10px; margin-top:5px">
Show older changelog <label class="mdl-switch mdl-js-switch mdl-js-ripple-effect" for="switch-2">
	<input type="checkbox" id="switch-2" class="mdl-switch__input" />
	<span class="mdl-switch__label"></span>
</label>
    <div style="display: none;">
        KitKat version<br>
v32<br>
Updated Intellidemand<br>
<br>
v31<br>
Updated KCAL, alucard hotplug, alucard gov<br>
Reverted patch for encryption<br>
<br>
v30a<br>
Removed new CPU freq table in v30 due to instability<br>
<br>
v30<br>
Added new CPU freq table (576Mhz, 1344Mhz, 1651Mhz, 1804Mhz, 2035Mhz, 2112Mhz, 2342Mhz)<br>
Added CPU governor - alucard, smartmax, nightmare, darkness, pegasusq, ondemandplus<br>
(UPDATE: alucard wasn't enabled in first build... please redownload)<br>
Updated Alucard Hotplug<br>
Added some patch for sound control (but no effect?)<br>
Changed permission for intelli plug (but it doesn't fix some settings not changing...)<br>
<br>
v29<br>
Fixed CPU voltage settings<br>
Added Alucard HotPlug (good for battery!)<br>
Added HYPER CPU governor<br>
Added 268MHz CPU Step<br>
Added sysfs interface to Enable / Disable Android Logger<br>
# Disable Android logger<br>
echo "0" &gt; /sys/kernel/logger_mode/logger_mode<br>
<br>
<br>
From now on, I recommend to use "<a href="https://play.google.com/store/apps/details?id=com.af.synapse" target="_blank" rel="nofollow">Synapse</a> + <a href="http://forum.xda-developers.com/android/software/zip-synapse-script-universal-kernel-t2736986" target="_blank">Universal Kernel Manager</a>" to configure.<br>
I sent pull request to support our device, and here is <a href="http://xn--l8je9byecb9a3syb.xn--q9jyb4c/uploda/upd2/updown2.cgi?mode=download&amp;id=224" target="_blank" rel="nofollow">modded UKM</a>.<br>
<br>
v28a<br>
Updated intelli plug (from dorimanx's LG G2 kernel)<br>
Calibrate auo panel to be sensibly less red for Z3C (from unified kernel)<br>
<br>
v28<br>
Updated patch for memory<br>
Added patch for encryption<br>
Added power_efficient workqueues<br>
NOTE: This is internally big update, so you'll lose some system settings like disabled app status, hide notification and "Always" app settings.<br>
<br>
v27a<br>
Disabled msm_mpdecision<br>
<br>
v27<br>
Added dynamic fsync<br>
Reverted patch for mm<br>
Updated TWRP to 2.8.5.0 (Z3C)<br>
<br>
v26b<br>
Set SELinux to Permissive (This is for future Xposed support. <a href="http://forum.xda-developers.com/z3/development/kernel-andropluskernel-t2925999" target="_blank">Poll is here</a>)<br>
Added patch for mm from unified kernel<br>
Added patch for sound control (FauxSound)<br>
Support F2FS for /system and /cache by generating proper fstab<br>
Updated F2FS codes<br>
<br>
v26<br>
Switched to -Ofast<br>
Enabled msm_mpdecision (more customizable mpdecision)<br>
Removed one CPU freq patch<br>
<br>
v25a<br>
<strike>Added Ultra KSM (enabled by default)a</strike> it breaks Wi-Fi<br>
<br>
v25<br>
Patched some exploits<br>
Added Dynamic management of dirty page writeback (enabled by default)<br>
--Can be enabled/disabled at /proc/sys/vm/dynamic_dirty_writeback<br>
Removed some optimization<br>
<br>
v24<br>
Added version name in Kernel Version (e.g. 3.4.0-AndroPlusKernel-v24)<br>
Added ElementalX governor<br>
Added some optimizations<br>
<br>
v23<br>
Removed old KCAL and added new KCAL<br>
--Download app to control your display <a href="http://forum.xda-developers.com/android/software-hacking/dev-kcal-advanced-color-control-t3032080" target="_blank">at this thread</a><br>
<br>
v22<br>
Updated TWRP to MultiROM TWRP 2.8.5.0 (Z2 and Z3)<br>
Removed 2.9GHz/3.0Ghz from Z2 and 3.0Ghz from Z3/Z3C since they are not enough stable<br>
Adjusted default freq of CPU freq limiter<br>
<br>
v21e<br>
Enabled Class AB audio<br>
Some change for cpufreq limiter/min max<br>
<br>
v21d<br>
Removed unused modules<br>
Shorten time to enter sleep state<br>
Removed "unwind warning" while building<br>
<br>
v21c<br>
Reverted patch for audio since it causes hi-res playing problem<br>
<br>
v21b<br>
Added back F2FS<br>
Fixed touch detection in MultiROM menu (only for clearpad device for now)<br>
<br>
v21a<br>
Changed to -Ofast instead of -O3<br>
Some more optimization/patch (cpufreq, panel, net, <strike>audio</strike>, storage)<br>
<br>
v21<br>
Added GPU governor conservative<br>
Allow non superusers to change i/o scheduler<br>
Some optimizations for devfreq, deadline scheduler, mmc, memory, intelli_plug<br>
Fixed compile error of fast hotplug and intellidemand<br>
<br>
v20c<br>
Fixed CPU freq limiter<br>
<strike>Disabled Android Loggera</strike> revert in v20c<br>
<strike>Updated intelliplug to v3.9a</strike> revert in v20c<br>
<br>
v20a<br>
Adjusted params of intellimm<br>
<strike>Some optimizations</strike> (reverted in v20b)<br>
Changed TWRP's "ro.product.device" to D6603 since CM is built with wrong codename<br>
<br>
v20<br>
Updated TWRP to 2.8.4.0 with MultiROM support (Thanks Myself5)<br>
Some more optimization of -O3<br>
Added tripndroid I/O scheduler<br>
Some changes for cpufreq (less spam log, delete deprecated code)<br>
<br>
v19c<br>
Changed some value for SmartassH3<br>
Reverted lz4 Cryptographic API<br>
Adjusted regulator for 3.0GHz<br>
<br>
v19a<br>
Reverted almost all patches/optimizations but added back -O3 optimization since it isn't cause of problems<br>
Reverted F2FS support<br>
<br>
v19<br>
Fully supports MultiROM!<br>
Separated CWM and Philz recovery since boot.img is too big, please unpack using tools such as Android Image Kitchen and overwrite ramdisk-recovery.cpio <a href="http://xn--l8je9byecb9a3syb.xn--q9jyb4c/uploda/upd2/updown2.cgi?mode=download&amp;id=198" target="_blank" rel="nofollow">from here</a><br>
<strike>Added support for F2FS (maybe, didn't test)</strike> will revert in v19a<br>
Reverted some optimization for memory since I found they cause random reboot problem in other kernel<br>
<br>
v18<br>
<strike>Added 2.9Ghz and 3.0Ghz overclock (won't work well on low pvs device)</strike><br>
Fixed lagfree<br>
Reverted intelli_plug to v3.8<br>
Added one commit from abricot kernel<br>
<br>
v17c<br>
Added working kexec hardboot, just wait for MultiROM!<br>
Reverted some optimizations for sched and writeback<br>
<strike>Added back USB keyboard/mouse function with ON/OFF</strike><br>
--Reverted in v18, due to strange problem which I can't reploduce<br>
<br>
v17a<br>
<strike>Reverted -O3 + A15 + Graphite Optimizations, maybe it's too stricta</strike><br>
Reverted some optimization for CPU<br>
<br>
v17<br>
Integrated frandom in kernel<br>
Use maximum potential of slimbus (*maybe* higher sound quality)<br>
Changed CONFIG_MODULE_FORCE_LOAD to y<br>
Updated powersuspend to 1.5<br>
Attempt to fix kernel wakelock<br>
CIFS support<br>
Some optimization<br>
<strike>Disabled Sound Control (FauxSound) since there are many bugs</strike><br>
<br>
v16<br>
-O3 + A15 + Graphite Optimizations<br>
Added some patches for network and memory management<br>
Added power key emulator - faster than "input keyevent 26"<br>
<div style="margin:20px; margin-top:5px">
	<pre class="alt2 " dir="ltr" style="
		margin: 0px;
		padding: 6px;
		border: 1px inset;
		width: auto;
		height: 82px;
		text-align: left;
		overflow: auto">#For screen off
echo 10 &gt; /sys/kernel/ponkey/ponkey_emu
#For power menu
echo 600 &gt; /sys/kernel/ponkey/ponkey_emu</pre>
</div>Added VR, ZEN, SIO-Plus iosched<br>
Added frandom module<br>
Deleted USB keyboard/mouse function<br>
Disabled MSM-Sleeper<br>
<strike>Deleted non-working voltage for CPU OC... 2.9GHz is unstable! </strike><br>
<br>
v15a<br>
Fixed SmartassH3 (thanks sh4d1t0)<br>
<br>
v15<br>
<strike>Enabled MSM-Sleeper</strike><br>
Changed TWRP to [NUT]'s one<br>
<strike>Added "Convert device into USB keyboard/mouse" function (thanks pelya)</strike><br>
--You can control your PC with Xperia (<a href="https://github.com/pelya/android-keyboard-gadget" target="_blank" rel="nofollow">download and install USB-Keyboard.apk from here</a>)<br>
--Deleted in v16 since it causes MTP problem<br>
<br>
v14<br>
Fixed Smartass v2<br>
Added CPU govonors smartassH3, adaptive, intellidemand 5.0<br>
<br>
v13<br>
Updated TWRP to 2.8.3.0<br>
Updated intelli_plug to v3.9<br>
Added fast_hotplug by pec0ra<br>
<br>
v12<br>
Support loading recovery from FOTA kernel by pressing power button<br>
Deleted force fast charge option for faster charging<img src="images/smilies/eek.gif" alt="" title="EEK!" class="inlineimg" border="0"><br>
Disabled zzmove<br>
<br>
v11<br>
<strike>Added CPU governor zzmove</strike> I'll revert in v12<br>
<strike>Fixed Sound Control, now it's working!</strike><br>
Added glocklee's "<a href="http://forum.xda-developers.com/xperia-z2/orig-development/sexy-kernel-patch-notification-light-t2808983" target="_blank">A sexy kernel patch for notification light</a>"<br>
Disabled sony_ric completely in kernel<br>
<br>
v10<br>
Updated to 23.0.1.A.5.77<br>
<br>
v9<br>
Enabled TCP cong algorithms BIC, Westwood+, H-TCP, Vegas, Veno, YeAH TCP<br>
Enabled advanced congestion-avoidance algorithms<br>
Fixed simple_ondemand GPU governor crashing<br>
<br>
v8<br>
Changed GPU OC to 657MHz, Idle on 27MHz, added back stock freq and add 100MHz Step<br>
<br>
v7<br>
Added Simple GPU Algorithm<br>
<strike>Added GPU OC to 644 MHz and idle on 120MHz</strike><br>
<strike>Added CPU overclocking 3.2 GHz - not working, need someone who can break limit!</strike><br>
<br>
v6<br>
Added "intelliminmax cpu governor"<br>
<br>
v5<br>
Fixed OC<br>
Added back 2.457GHz<br>
<br>
v4<br>
Updated TWRP to 2.8.1.0<br>
<br>
v3<br>
CPU OverClock upto 2.89GHz<br>
<br>
v2<br>
Intelli-Plug driver v3.8<br>
Intelli-thermal v2<br>
Intelli-KSM<br>
Sound Control driver v3.6 [Not working]<br>
PowerSuspend drivers<br>
<strike>Force FastCharge</strike><br>
kernel level Color Control<br>
kernel mode NEON<br>
msm_cpufreq_limiter "Snake Charmer"<br>
per-core overall stats<br>
NTFS R/W support<br>
I/O schedulers<br>
--BFQ<br>
--FIOPS<br>
CPU governor (Some are not tested)<br>
--Intelli-active<br>
--LionHeart<br>
--SmartAssV2<br>
--LagFree<br>
--Wheatley<br>
<br>
v1<br>
Disabled ric<br>
<strike>CWM (Volume Up)</strike><br>
TWRP Recovery (Volume Down)<br>
<strike>PhilZ touch recovery (Camera Key)</strike><br>
<strike> CPU OverClock upto 2.8 GHz</strike><br>
GPU OverClock<br>
CPU Undervolting<br>
SIO I/O scheduler
              </div>
	  </div>
<br />--------------------------------------<br>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- レスポンシブ記事下 -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-0606165858439985"
     data-ad-slot="8365603791"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
        </div>
 </div>
        <script>
        $(".mdl-switch__input").prop("checked",false);
        $(".mdl-switch").click(function() {
	        if ($(this).hasClass('is-checked') ) {
	        	$(this).next('div').hide("300");
	        } else {
	        	$(this).next('div').show("300");
	        }
        });
        </script>
        
        <div class="android-changelog-section mdl-typography--text-center">
         	<div class="mdl-typography--display-1-color-contrast">Source</div>
         	<div class="android-changelog">
         	<p>
		<a href="https://github.com/AndroPlus-org/android_kernel_sony_msm8974ac">Github</a>
		</p>
        	</div>
        </div>
 
        <div class="android-more-section">
          <div class="android-section-title mdl-typography--display-1-color-contrast">More from AndroPlus</div>
          <div class="android-card-container mdl-grid">
            <div class="mdl-cell mdl-cell--3-col mdl-cell--4-col-tablet mdl-cell--4-col-phone mdl-card mdl-shadow--3dp">
              <div class="mdl-card__media">
                <img src="images/more-from-1.png">
              </div>
              <div class="mdl-card__title">
                 <h4 class="mdl-card__title-text">FTF for Japanese Xperia</h4>
              </div>
              <div class="mdl-card__supporting-text">
                <span class="mdl-typography--font-light mdl-typography--subhead">Mega collection of FTFs for Japanese models. If you have FTF which is not listed on the website, please send me via <a href="http://1drv.ms/1jKePEK">OneDrive</a> or <a href="http://forum.xda-developers.com/member.php?u=5169444">PM me on xda</a>.</span>
              </div>
              <div class="mdl-card__actions">
                 <a class="android-link mdl-button mdl-js-button mdl-typography--text-uppercase" href="https://ftf.andro.plus/">
                   Xperia FTF
                   <i class="material-icons">chevron_right</i>
                 </a>
              </div>
            </div>

            <div class="mdl-cell mdl-cell--3-col mdl-cell--4-col-tablet mdl-cell--4-col-phone mdl-card mdl-shadow--3dp">
              <div class="mdl-card__media">
                <img src="images/more-from-2.jpg">
              </div>
              <div class="mdl-card__title">
                 <h4 class="mdl-card__title-text">Xperia Codename List</h4>
              </div>
              <div class="mdl-card__supporting-text">
                <span class="mdl-typography--font-light mdl-typography--subhead">The list of codenames of all Xperia!</span>
              </div>
              <div class="mdl-card__actions">
                 <a class="android-link mdl-button mdl-js-button mdl-typography--text-uppercase" href="https://ftf.andro.plus/codenames.html">
                   Xperia codenames
                   <i class="material-icons">chevron_right</i>
                 </a>
              </div>
            </div>

            <div class="mdl-cell mdl-cell--3-col mdl-cell--4-col-tablet mdl-cell--4-col-phone mdl-card mdl-shadow--3dp">
              <div class="mdl-card__media">
                <img src="images/more-from-3.jpg">
              </div>
              <div class="mdl-card__title">
                 <h4 class="mdl-card__title-text">Get my Xposed modules for Xperia</h4>
              </div>
              <div class="mdl-card__supporting-text">
                <span class="mdl-typography--font-light mdl-typography--subhead">Simple and effective Xposed modules for Xperia devices - you can enable hidden features and mods with one tap.</span>
              </div>
              <div class="mdl-card__actions">
                 <a class="android-link mdl-button mdl-js-button mdl-typography--text-uppercase" href="https://play.google.com/store/apps/developer?id=AndroPlus">
                   Download now
                   <i class="material-icons">chevron_right</i>
                 </a>
              </div>
            </div>

            <div class="mdl-cell mdl-cell--3-col mdl-cell--4-col-tablet mdl-cell--4-col-phone mdl-card mdl-shadow--3dp">
              <div class="mdl-card__media">
                <img src="images/more-from-4.jpg">
              </div>
              <div class="mdl-card__title">
                 <h4 class="mdl-card__title-text">Go to my blog, AndroPlus.org</h4>
              </div>
              <div class="mdl-card__supporting-text">
                <span class="mdl-typography--font-light mdl-typography--subhead">My blog for Xperia related information. Sorry, but most blog posts are only displayed in Japanese.</span>
              </div>
              <div class="mdl-card__actions">
                 <a class="android-link mdl-button mdl-js-button mdl-typography--text-uppercase" href="https://androplus.org/">
                   AndroPlus.org
                   <i class="material-icons">chevron_right</i>
                 </a>
              </div>
            </div>
          </div>
        </div>

        <footer class="android-footer mdl-mega-footer">
          <div class="mdl-mega-footer--top-section">
            <div class="mdl-mega-footer--left-section">
              <button class="mdl-mega-footer--social-btn" onclick="location.href='https://twitter.com/AndroPlus_org'"><i class="fa fa-twitter fa-fw fa-lg"></i></button>
              &nbsp;
              <button class="mdl-mega-footer--social-btn" onclick="location.href='https://plus.google.com/+%E8%83%BD%E7%BE%8E%E6%B6%BC%E5%AD%90Xperia/posts'"><i class="fa fa-google-plus fa-fw fa-lg"></i></button>
              &nbsp;
              <button class="mdl-mega-footer--social-btn" onclick="location.href='https://github.com/AndroPlus-org?tab=repositories'"><i class="fa fa-github fa-fw fa-lg"></i></button>
            </div>
            <div class="mdl-mega-footer--right-section">
              <a class="mdl-typography--font-light" href="#top">
                Back to Top
                <i class="material-icons">expand_less</i>
              </a>
            </div>
          </div>

          <div class="mdl-mega-footer--middle-section">
            <p class="mdl-typography--font-light">This website is a completely INDEPENDENT and UNOFFICIAL website dedicated to Sony Xperia products</p>
            <p class="mdl-typography--font-light">Sony Ericsson, XPERIA and X10, and various products names found on this website are trademarks of Sony Mobile Communications AB, unless otherwise noted. SONY is a trademark of Sony Corporation.</p>
          </div>

          <div class="mdl-mega-footer--bottom-section">
            <a class="android-link mdl-typography--font-light" href="https://androplus.org/">Blog</a>
            <a class="android-link mdl-typography--font-light" href="privacy.html">Privacy Policy</a>
          </div>

        </footer>
      </div>
    </div>

    <script src="material.min.js"></script>


  </body>
</html>
